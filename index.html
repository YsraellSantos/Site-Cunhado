<!DOCTYPE html>
<html>
<head>

    <title>Minha Loja Virtual</title>

    <link rel="stylesheet" href="style.css">

<body>

   <section class="img1">
    

        <h1 class="cabecalho">Açaí</h1>
        <h2  class="cabecalho2">Santana</h2>
  
       

   </section>
 

    <!-- Exibição de produtos -->
    <div id="products">
        <h2>Produtos Disponíveis</h2>
        <ul>
            <li>
                <span> Açai  P - $10</span>
                <!-- <img src="Imagens/copo.jpg" alt=""> -->
                <button onclick="addToCart('Produto 1', 10)">Adicionar ao Carrinho</button>
            </li>
            <li>
                <span> Açai M - $13</span>
                <!-- <img src="Imagens/capitaoc1.jpg" alt=""> -->
                <button onclick="addToCart('Produto 2', 13)">Adicionar ao Carrinho</button>
            </li>
            <li>
                <span> Açai G - $15</span>
                <!-- <img class="ult" src="Imagens/capitaocabanau.jpg" alt=""> -->
                <button onclick="addToCart('Produto 3', 15)">Adicionar ao Carrinho</button>
            </li>
          
    </div>


    <!-- Carrinho de compras -->
    <div id="cart">
        <h2>Carrinho</h2>
        <ul id="cart-items">
            <!-- Os itens do carrinho serão exibidos aqui -->
        </ul>
        <p>Total: $<span id="cart-total">0</span></p>
        <button onclick="sendWhatsAppMessage('7996334038')">Enviar via WhatsApp</button>
    </div>

 

   <script>
    // Variáveis para armazenar o carrinho de compras e o total
    const cart = [];
    let total = 0;

    // Função para adicionar um item ao carrinho
    function addToCart(nomeProduto, preço) {
        // Verifica se o item já está no carrinho
        const itemExistente = cart.find(item => item.nome === nomeProduto);

        if (itemExistente) {
            // Se o item já existe, aumente a quantidade em vez de adicioná-lo novamente
            itemExistente.quantidade++;
        } else {
            // Se o item não existe, adicione-o ao carrinho com quantidade 1
            cart.push({ nome: nomeProduto, preço: preço, quantidade: 1 });
        }

        // Atualize a exibição do carrinho
        atualizarVisualizaçãoDoCarrinho();
    }

    // Função para remover um item do carrinho
    function removerDoCarrinho(indice) {
        const item = cart[indice];

        if (item.quantidade > 1) {
            // Se a quantidade for maior que 1, diminua a quantidade em 1
            item.quantidade--;
            total -= item.preço;
        } else {
            // Se a quantidade for 1, remova completamente o item do carrinho
            cart.splice(indice, 1);
            total -= item.preço;
        }

        // Atualize a exibição do carrinho
        atualizarVisualizaçãoDoCarrinho();
    }

    // Função para atualizar a exibição do carrinho
    function atualizarVisualizaçãoDoCarrinho() {
        const elementosItensDoCarrinho = document.getElementById('cart-items');
        const elementoTotalDoCarrinho = document.getElementById('cart-total');

        // Limpe o conteúdo atual do carrinho
        elementosItensDoCarrinho.innerHTML = '';

        // Adicione os itens do carrinho
        cart.forEach((item, indice) => {
            const li = document.createElement('li');
            li.textContent = `${item.nome} - R$ ${item.preço.toFixed(2)} x ${item.quantidade}`;
            const botãoRemover = document.createElement('button');
            botãoRemover.textContent = 'Remover';
            botãoRemover.onclick = () => removerDoCarrinho(indice);
            li.appendChild(botãoRemover);
            elementosItensDoCarrinho.appendChild(li);
        });

        // Calcular o total considerando a quantidade
        const totalCalculado = cart.reduce((acumulador, item) => acumulador + item.preço * item.quantidade, 0);
        elementoTotalDoCarrinho.textContent = totalCalculado.toFixed(2);
        total = totalCalculado;
    }

// Função para enviar mensagem via WhatsApp
function sendWhatsAppMessage(telefone) {
    const itens = cart.map(item => `${item.nome} - R$ ${item.preço.toFixed(2)} x ${item.quantidade}`).join('%0A');
    const mensagem = `Olá! Estes são os pedidos do meu carrinho: ${itens}: R$ ${total.toFixed(2)}`;

    // Crie um link do WhatsApp com a mensagem personalizada
    const linkWhatsApp = `https://wa.me/${telefone}?text=${encodeURIComponent(mensagem)}`;
    window.open(linkWhatsApp);
}
</script>

</body>
</html>
